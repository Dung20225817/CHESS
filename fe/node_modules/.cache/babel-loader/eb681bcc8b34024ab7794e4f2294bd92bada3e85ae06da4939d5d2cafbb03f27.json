{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\User\\\\PycharmProjects\\\\Chess\\\\fe\\\\src\\\\components\\\\Board.tsx\",\n  _s = $RefreshSig$();\nimport { useState } from \"react\";\nimport Square from \"./Square\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst pieceImages = {/* ... như trước ... */};\nconst initialBoard = [/* ... như trước ... */];\nconst Board = () => {\n  _s();\n  const [board, setBoard] = useState(initialBoard.map(row => row.split(\"\")));\n  const [selected, setSelected] = useState(null);\n  const [kingMoved, setKingMoved] = useState({\n    white: false,\n    black: false\n  });\n  const [rookMoved, setRookMoved] = useState({\n    wA: false,\n    wH: false,\n    bA: false,\n    bH: false\n  });\n  const handleClick = (r, c) => {\n    if (!selected) {\n      if (board[r][c] !== \".\") setSelected([r, c]);\n      return;\n    }\n    const [r1, c1] = selected;\n    const piece = board[r1][c1];\n    if (!piece || piece === \".\") {\n      setSelected(null);\n      return;\n    }\n\n    // Castling và di chuyển bình thường\n    // Bạn vẫn giữ nguyên code castling + promotion như trước\n\n    setSelected(null);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      display: \"grid\",\n      gridTemplateColumns: \"repeat(8, 60px)\",\n      gridTemplateRows: \"repeat(8, 60px)\",\n      border: \"2px solid black\"\n    },\n    children: board.map((row, i) => row.map((piece, j) => {\n      const color = (i + j) % 2 === 0 ? \"#f0d9b5\" : \"#b58863\";\n      const piecePath = pieceImages[piece] || \"\";\n      const isSelected = (selected === null || selected === void 0 ? void 0 : selected[0]) === i && (selected === null || selected === void 0 ? void 0 : selected[1]) === j;\n      return /*#__PURE__*/_jsxDEV(Square, {\n        value: piecePath,\n        isSelected: isSelected,\n        onClick: () => handleClick(i, j),\n        color: color\n      }, `${i}-${j}`, false, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 18\n      }, this);\n    }))\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 34,\n    columnNumber: 5\n  }, this);\n};\n_s(Board, \"ct4QtA4wf6o4LpbL3x9nPEqpqVg=\");\n_c = Board;\nexport default Board;\nvar _c;\n$RefreshReg$(_c, \"Board\");","map":{"version":3,"names":["useState","Square","jsxDEV","_jsxDEV","pieceImages","initialBoard","Board","_s","board","setBoard","map","row","split","selected","setSelected","kingMoved","setKingMoved","white","black","rookMoved","setRookMoved","wA","wH","bA","bH","handleClick","r","c","r1","c1","piece","style","display","gridTemplateColumns","gridTemplateRows","border","children","i","j","color","piecePath","isSelected","value","onClick","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/User/PycharmProjects/Chess/fe/src/components/Board.tsx"],"sourcesContent":["import { useState } from \"react\";\nimport Square from \"./Square\";\nimport { isValidMove, KingMoved, RookMoved } from \"./chessRules\";\n\nconst pieceImages: { [key: string]: string } = { /* ... như trước ... */ };\nconst initialBoard: string[] = [ /* ... như trước ... */ ];\n\nconst Board: React.FC = () => {\n  const [board, setBoard] = useState<string[][]>(initialBoard.map(row => row.split(\"\")));\n  const [selected, setSelected] = useState<[number, number] | null>(null);\n  const [kingMoved, setKingMoved] = useState<KingMoved>({ white: false, black: false });\n  const [rookMoved, setRookMoved] = useState<RookMoved>({ wA: false, wH: false, bA: false, bH: false });\n\n  const handleClick = (r: number, c: number) => {\n    if (!selected) {\n      if (board[r][c] !== \".\") setSelected([r, c]);\n      return;\n    }\n\n    const [r1, c1] = selected;\n    const piece = board[r1][c1];\n    if (!piece || piece === \".\") {\n      setSelected(null);\n      return;\n    }\n\n    // Castling và di chuyển bình thường\n    // Bạn vẫn giữ nguyên code castling + promotion như trước\n\n    setSelected(null);\n  };\n\n  return (\n    <div style={{ display: \"grid\", gridTemplateColumns: \"repeat(8, 60px)\", gridTemplateRows: \"repeat(8, 60px)\", border: \"2px solid black\" }}>\n      {board.map((row, i) =>\n        row.map((piece, j) => {\n          const color = (i + j) % 2 === 0 ? \"#f0d9b5\" : \"#b58863\";\n          const piecePath = pieceImages[piece] || \"\";\n          const isSelected = selected?.[0] === i && selected?.[1] === j;\n          return <Square key={`${i}-${j}`} value={piecePath} isSelected={isSelected} onClick={() => handleClick(i, j)} color={color} />;\n        })\n      )}\n    </div>\n  );\n};\n\nexport default Board;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}