{"ast":null,"code":"var _jsxFileName = \"D:\\\\CHESS\\\\fe\\\\src\\\\components\\\\utils\\\\Sidebar.tsx\",\n  _s = $RefreshSig$();\nimport { useState } from \"react\";\nimport { useAuth } from \"../connect/AuthContext\";\nimport \"./Sidebar.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Sidebar({\n  isOpen,\n  onClose,\n  onLogout,\n  userId\n}) {\n  _s();\n  const [friendsOpen, setFriendsOpen] = useState(false);\n  const [friends, setFriends] = useState([]);\n  const [loadingFriends, setLoadingFriends] = useState(false);\n  const {\n    getFriends\n  } = useAuth();\n  const fetchFriends = async () => {\n    setLoadingFriends(true);\n    try {\n      const res = await getFriends(userId);\n      setFriends(res.map(f => ({\n        id: f.friend_id,\n        name: f.username\n      })));\n    } catch {\n      setFriends([]);\n    }\n    setLoadingFriends(false);\n  };\n  const toggleFriends = () => {\n    const open = !friendsOpen;\n    setFriendsOpen(open);\n    if (open) fetchFriends();\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: `sidebar ${isOpen ? \"open\" : \"\"}`,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"sidebar-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"sidebar-title\",\n        children: \"T\\xE0i kho\\u1EA3n\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"close-btn\",\n        onClick: onClose,\n        children: \"\\xD7\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n      className: \"sidebar-menu\",\n      children: [/*#__PURE__*/_jsxDEV(\"li\", {\n        children: \"\\uD83C\\uDFE0 Trang ch\\u1EE7\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n        className: \"friend-item\",\n        onClick: toggleFriends,\n        children: [\"\\uD83D\\uDC65 B\\u1EA1n b\\xE8\", /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"arrow\",\n          children: friendsOpen ? \"‚ñ≤\" : \"‚ñº\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 9\n      }, this), friendsOpen && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"friend-dropdown\",\n        children: [loadingFriends && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"loading\",\n          children: \"\\u0110ang t\\u1EA3i...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 32\n        }, this), !loadingFriends && friends.length === 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"no-friend\",\n          children: \"Kh\\xF4ng c\\xF3 b\\u1EA1n b\\xE8\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 57\n        }, this), !loadingFriends && friends.map(f => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"friend-row\",\n          children: [\"\\uD83D\\uDC64 \", f.name, \" (ID: \", f.id, \")\"]\n        }, f.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 15\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n        children: \"\\u2694\\uFE0F Th\\xE1ch \\u0111\\u1EA5u\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"sidebar-footer\",\n      children: /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: onLogout,\n        className: \"logout-btn\",\n        children: \"\\u0110\\u0103ng xu\\u1EA5t\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 39,\n    columnNumber: 5\n  }, this);\n}\n_s(Sidebar, \"5i1QLNM26gnTGDNo5zvEXgBUtZg=\", false, function () {\n  return [useAuth];\n});\n_c = Sidebar;\nvar _c;\n$RefreshReg$(_c, \"Sidebar\");","map":{"version":3,"names":["useState","useAuth","jsxDEV","_jsxDEV","Sidebar","isOpen","onClose","onLogout","userId","_s","friendsOpen","setFriendsOpen","friends","setFriends","loadingFriends","setLoadingFriends","getFriends","fetchFriends","res","map","f","id","friend_id","name","username","toggleFriends","open","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","length","_c","$RefreshReg$"],"sources":["D:/CHESS/fe/src/components/utils/Sidebar.tsx"],"sourcesContent":["import { useState } from \"react\";\r\nimport { useAuth } from \"../connect/AuthContext\";\r\nimport \"./Sidebar.css\";\r\n\r\ntype Friend = { id: string; name: string };\r\n\r\ntype SidebarProps = {\r\n  isOpen: boolean;\r\n  onClose: () => void;\r\n  onLogout: () => void;\r\n  userId: string;\r\n};\r\n\r\nexport default function Sidebar({ isOpen, onClose, onLogout, userId }: SidebarProps) {\r\n  const [friendsOpen, setFriendsOpen] = useState(false);\r\n  const [friends, setFriends] = useState<Friend[]>([]);\r\n  const [loadingFriends, setLoadingFriends] = useState(false);\r\n\r\n  const { getFriends } = useAuth();\r\n\r\n  const fetchFriends = async () => {\r\n    setLoadingFriends(true);\r\n    try {\r\n      const res = await getFriends(userId);\r\n      setFriends(res.map(f => ({ id: f.friend_id, name: f.username })));\r\n    } catch {\r\n      setFriends([]);\r\n    }\r\n    setLoadingFriends(false);\r\n  };\r\n\r\n  const toggleFriends = () => {\r\n    const open = !friendsOpen;\r\n    setFriendsOpen(open);\r\n    if (open) fetchFriends();\r\n  };\r\n\r\n  return (\r\n    <div className={`sidebar ${isOpen ? \"open\" : \"\"}`}>\r\n      <div className=\"sidebar-header\">\r\n        <div className=\"sidebar-title\">T√†i kho·∫£n</div>\r\n        <button className=\"close-btn\" onClick={onClose}>√ó</button>\r\n      </div>\r\n\r\n      <ul className=\"sidebar-menu\">\r\n        <li>üè† Trang ch·ªß</li>\r\n\r\n        <li className=\"friend-item\" onClick={toggleFriends}>\r\n          üë• B·∫°n b√®\r\n          <span className=\"arrow\">{friendsOpen ? \"‚ñ≤\" : \"‚ñº\"}</span>\r\n        </li>\r\n\r\n        {friendsOpen && (\r\n          <div className=\"friend-dropdown\">\r\n            {loadingFriends && <div className=\"loading\">ƒêang t·∫£i...</div>}\r\n            {!loadingFriends && friends.length === 0 && <div className=\"no-friend\">Kh√¥ng c√≥ b·∫°n b√®</div>}\r\n            {!loadingFriends && friends.map(f => (\r\n              <div key={f.id} className=\"friend-row\">\r\n                üë§ {f.name} (ID: {f.id})\r\n              </div>\r\n            ))}\r\n          </div>\r\n        )}\r\n\r\n        <li>‚öîÔ∏è Th√°ch ƒë·∫•u</li>\r\n      </ul>\r\n\r\n      <div className=\"sidebar-footer\">\r\n        <button onClick={onLogout} className=\"logout-btn\">ƒêƒÉng xu·∫•t</button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}