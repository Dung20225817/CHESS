{"ast":null,"code":"var _jsxFileName = \"D:\\\\CHESS\\\\fe\\\\src\\\\components\\\\utils\\\\Sidebar.tsx\",\n  _s = $RefreshSig$();\nimport { useState } from \"react\";\nimport \"./Sidebar.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Sidebar({\n  isOpen,\n  onClose,\n  onLogout,\n  userId\n}) {\n  _s();\n  const [friendsOpen, setFriendsOpen] = useState(false);\n  const [friends, setFriends] = useState([]);\n  const [loadingFriends, setLoadingFriends] = useState(false);\n  const toggleFriends = async () => {\n    setFriendsOpen(!friendsOpen);\n\n    // n·∫øu ƒë√£ m·ªü r·ªìi v√† ƒë√£ load, kh√¥ng c·∫ßn load n·ªØa\n    if (friendsOpen || friends.length > 0) return;\n    setLoadingFriends(true);\n    try {\n      const res = await fetch(`http://localhost:8080/friends?user=${userId}`);\n      const data = await res.json();\n      setFriends(data.friends || []);\n    } catch (err) {\n      console.error(\"L·ªói l·∫•y danh s√°ch b·∫°n b√®:\", err);\n    }\n    setLoadingFriends(false);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: `sidebar ${isOpen ? \"open\" : \"\"}`,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"sidebar-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"sidebar-title\",\n        children: \"T\\xE0i kho\\u1EA3n\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"close-btn\",\n        onClick: onClose,\n        children: \"\\xD7\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n      className: \"sidebar-menu\",\n      children: [/*#__PURE__*/_jsxDEV(\"li\", {\n        children: \"\\uD83C\\uDFE0 Trang ch\\u1EE7\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n        className: \"friend-item\",\n        onClick: toggleFriends,\n        children: [\"\\uD83D\\uDC65 B\\u1EA1n b\\xE8\", /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"arrow\",\n          children: friendsOpen ? \"‚ñ≤\" : \"‚ñº\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 9\n      }, this), friendsOpen && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"friend-dropdown\",\n        children: [loadingFriends && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"loading\",\n          children: \"\\u0110ang t\\u1EA3i...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 32\n        }, this), !loadingFriends && friends.length === 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"no-friend\",\n          children: \"Kh\\xF4ng c\\xF3 b\\u1EA1n b\\xE8\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 15\n        }, this), !loadingFriends && friends.map(f => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"friend-row\",\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            children: [\"\\uD83D\\uDC64 \", f.name, \" (ID: \", f.id, \")\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 19\n          }, this)\n        }, f.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 17\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n        children: \"\\u2694\\uFE0F Th\\xE1ch \\u0111\\u1EA5u\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"sidebar-footer\",\n      children: /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: onLogout,\n        className: \"logout-btn\",\n        children: \"\\u0110\\u0103ng xu\\u1EA5t\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 41,\n    columnNumber: 5\n  }, this);\n}\n_s(Sidebar, \"oOmTps2VpLhVvSAj4VuuN4xn3bc=\");\n_c = Sidebar;\nvar _c;\n$RefreshReg$(_c, \"Sidebar\");","map":{"version":3,"names":["useState","jsxDEV","_jsxDEV","Sidebar","isOpen","onClose","onLogout","userId","_s","friendsOpen","setFriendsOpen","friends","setFriends","loadingFriends","setLoadingFriends","toggleFriends","length","res","fetch","data","json","err","console","error","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","map","f","name","id","_c","$RefreshReg$"],"sources":["D:/CHESS/fe/src/components/utils/Sidebar.tsx"],"sourcesContent":["import { useState } from \"react\";\r\nimport \"./Sidebar.css\";\r\n\r\ntype Friend = {\r\n  id: string;\r\n  name: string;\r\n};\r\n\r\ntype SidebarProps = {\r\n  isOpen: boolean;\r\n  onClose: () => void;\r\n  onLogout: () => void;\r\n  userId: string; // c·∫ßn userId ƒë·ªÉ l·∫•y b·∫°n b√® t·ª´ server\r\n};\r\n\r\nexport default function Sidebar({ isOpen, onClose, onLogout, userId }: SidebarProps) {\r\n  const [friendsOpen, setFriendsOpen] = useState(false);\r\n  const [friends, setFriends] = useState<Friend[]>([]);\r\n  const [loadingFriends, setLoadingFriends] = useState(false);\r\n\r\n  const toggleFriends = async () => {\r\n    setFriendsOpen(!friendsOpen);\r\n\r\n    // n·∫øu ƒë√£ m·ªü r·ªìi v√† ƒë√£ load, kh√¥ng c·∫ßn load n·ªØa\r\n    if (friendsOpen || friends.length > 0) return;\r\n\r\n    setLoadingFriends(true);\r\n\r\n    try {\r\n      const res = await fetch(`http://localhost:8080/friends?user=${userId}`);\r\n      const data = await res.json();\r\n      setFriends(data.friends || []);\r\n    } catch (err) {\r\n      console.error(\"L·ªói l·∫•y danh s√°ch b·∫°n b√®:\", err);\r\n    }\r\n\r\n    setLoadingFriends(false);\r\n  };\r\n\r\n  return (\r\n    <div className={`sidebar ${isOpen ? \"open\" : \"\"}`}>\r\n      {/* Header */}\r\n      <div className=\"sidebar-header\">\r\n        <div className=\"sidebar-title\">T√†i kho·∫£n</div>\r\n        <button className=\"close-btn\" onClick={onClose}>√ó</button>\r\n      </div>\r\n\r\n      {/* Menu */}\r\n      <ul className=\"sidebar-menu\">\r\n        <li>üè† Trang ch·ªß</li>\r\n\r\n        {/* üë• MENU B·∫†N B√à */}\r\n        <li className=\"friend-item\" onClick={toggleFriends}>\r\n          üë• B·∫°n b√®\r\n          <span className=\"arrow\">{friendsOpen ? \"‚ñ≤\" : \"‚ñº\"}</span>\r\n        </li>\r\n\r\n        {/* Dropdown b·∫°n b√® */}\r\n        {friendsOpen && (\r\n          <div className=\"friend-dropdown\">\r\n            {loadingFriends && <div className=\"loading\">ƒêang t·∫£i...</div>}\r\n\r\n            {!loadingFriends && friends.length === 0 && (\r\n              <div className=\"no-friend\">Kh√¥ng c√≥ b·∫°n b√®</div>\r\n            )}\r\n\r\n            {!loadingFriends &&\r\n              friends.map(f => (\r\n                <div key={f.id} className=\"friend-row\">\r\n                  <span>üë§ {f.name} (ID: {f.id})</span>\r\n                </div>\r\n              ))\r\n            }\r\n          </div>\r\n        )}\r\n\r\n        <li>‚öîÔ∏è Th√°ch ƒë·∫•u</li>\r\n      </ul>\r\n\r\n      {/* Footer */}\r\n      <div className=\"sidebar-footer\">\r\n        <button onClick={onLogout} className=\"logout-btn\">\r\n          ƒêƒÉng xu·∫•t\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}