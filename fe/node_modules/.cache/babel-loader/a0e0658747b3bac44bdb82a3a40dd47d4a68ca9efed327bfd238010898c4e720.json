{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\User\\\\PycharmProjects\\\\Chess\\\\fe\\\\src\\\\components\\\\Board.tsx\",\n  _s = $RefreshSig$();\nimport { useState } from \"react\";\nimport Square from \"./Square\";\nimport { isValidMove } from \"./chessRules\";\nimport { useChessSocket } from \"./useChessSocket\";\nimport { playSound } from \"../utils/soundManager\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst pieceImages = {\n  P: \"/pieces/wP.png\",\n  p: \"/pieces/bP.png\",\n  R: \"/pieces/wR.png\",\n  r: \"/pieces/bR.png\",\n  N: \"/pieces/wN.png\",\n  n: \"/pieces/bN.png\",\n  B: \"/pieces/wB.png\",\n  b: \"/pieces/bB.png\",\n  Q: \"/pieces/wQ.png\",\n  q: \"/pieces/bQ.png\",\n  K: \"/pieces/wK.png\",\n  k: \"/pieces/bK.png\"\n};\nconst initialBoard = [\"rnbqkbnr\", \"pppppppp\", \"........\", \"........\", \"........\", \"........\", \"PPPPPPPP\", \"RNBQKBNR\"];\nconst Board = ({\n  roomId\n}) => {\n  _s();\n  const [board, setBoard] = useState(initialBoard.map(r => r.split(\"\")));\n  const [selected, setSelected] = useState(null);\n  const [validMoves, setValidMoves] = useState([]);\n  const [turn, setTurn] = useState(\"white\");\n  const [gameOver, setGameOver] = useState(null);\n  const {\n    sendMove,\n    playerColor\n  } = useChessSocket(roomId, (fen, newTurn, newGameOver, event) => {\n    console.log(\"üì® Received FEN:\", fen);\n    const rows = fen.split(\" \")[0].split(\"/\").map(r => r.split(\"\").flatMap(c => isNaN(+c) ? [c] : Array(+c).fill(\".\")));\n    setBoard(rows);\n    setTurn(newTurn);\n    setGameOver(newGameOver);\n    if (event) playSound(event); // üß© ph√°t nh·∫°c theo s·ª± ki·ªán\n  });\n  const handleClick = (r, c) => {\n    if (gameOver || !playerColor) return;\n\n    // Ch·ªâ cho di chuy·ªÉn khi ƒë√∫ng l∆∞·ª£t\n    if (turn !== playerColor) return;\n    const piece = board[r][c];\n    const pieceColor = piece.toUpperCase() === piece ? \"white\" : \"black\";\n    if (!selected) {\n      if (piece !== \".\" && pieceColor === playerColor) {\n        setSelected([r, c]);\n        const moves = [];\n        for (let i = 0; i < 8; i++) for (let j = 0; j < 8; j++) if (isValidMove(piece, r, c, i, j, board)) moves.push([i, j]);\n        setValidMoves(moves);\n      }\n      return;\n    }\n    const [r1, c1] = selected;\n    const selectedPiece = board[r1][c1];\n    if (!selectedPiece || selectedPiece === \".\") {\n      setSelected(null);\n      setValidMoves([]);\n      return;\n    }\n    if (validMoves.some(([x, y]) => x === r && y === c)) {\n      let moveUCI = `${String.fromCharCode(97 + c1)}${8 - r1}${String.fromCharCode(97 + c)}${8 - r}`;\n\n      // üß© TH√äM X·ª¨ L√ù PHONG H·∫¨U:\n      const isWhitePawn = selectedPiece === \"P\";\n      const isBlackPawn = selectedPiece === \"p\";\n      const promotionRow = isWhitePawn ? 0 : isBlackPawn ? 7 : -1;\n\n      // n·∫øu t·ªët ƒëi ƒë·∫øn h√†ng cu·ªëi c√πng ‚Üí phong h·∫≠u m·∫∑c ƒë·ªãnh\n      if (isWhitePawn && r === 0 || isBlackPawn && r === 7) {\n        moveUCI += \"q\"; // phong th√†nh h·∫≠u (queen)\n      }\n      sendMove(moveUCI);\n    }\n    setSelected(null);\n    setValidMoves([]);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      display: \"flex\",\n      justifyContent: \"center\",\n      alignItems: \"flex-start\",\n      gap: \"40px\",\n      marginTop: \"20px\"\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      children: [gameOver && /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          color: \"red\",\n          textAlign: \"center\",\n          fontSize: \"20px\",\n          marginBottom: \"10px\"\n        },\n        children: gameOver === \"white\" ? \"Tr·∫Øng th·∫Øng!\" : gameOver === \"black\" ? \"ƒêen th·∫Øng!\" : \"H√≤a!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: \"grid\",\n          gridTemplateColumns: \"repeat(8, 60px)\",\n          gridTemplateRows: \"repeat(8, 60px)\",\n          border: \"2px solid black\"\n        },\n        children: board.map((row, i) => row.map((piece, j) => {\n          const color = (i + j) % 2 === 0 ? \"#f0d9b5\" : \"#b58863\";\n          const piecePath = pieceImages[piece] || \"\";\n          const isSelected = (selected === null || selected === void 0 ? void 0 : selected[0]) === i && (selected === null || selected === void 0 ? void 0 : selected[1]) === j;\n          const isValid = validMoves.some(([x, y]) => x === i && y === j);\n          const bgColor = isSelected ? \"yellow\" : isValid ? \"#a0d8ff\" : color;\n          return /*#__PURE__*/_jsxDEV(Square, {\n            value: piecePath,\n            isSelected: isSelected,\n            onClick: () => handleClick(i, j),\n            color: bgColor\n          }, `${i}-${j}`, false, {\n            fileName: _jsxFileName,\n            lineNumber: 124,\n            columnNumber: 17\n          }, this);\n        }))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        width: \"300px\",\n        padding: \"20px\",\n        border: \"2px solid #333\",\n        borderRadius: \"10px\",\n        backgroundColor: \"#fafafa\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        style: {\n          textAlign: \"center\"\n        },\n        children: \"Th\\xF4ng tin ph\\xF2ng\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"M\\xE3 ph\\xF2ng:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 148,\n          columnNumber: 12\n        }, this), \" \", roomId]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"L\\u01B0\\u1EE3t hi\\u1EC7n t\\u1EA1i:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 149,\n          columnNumber: 12\n        }, this), \" \", turn === \"white\" ? \"Tr·∫Øng\" : \"ƒêen\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginTop: \"20px\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n          children: \"Ng\\u01B0\\u1EDDi ch\\u01A1i\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 152,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"\\u2654 \", /*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Tr\\u1EAFng:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 153,\n            columnNumber: 16\n          }, this), \" \", playerColor === \"white\" ? \"B·∫°n\" : \"ƒê·ªëi th·ªß\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 153,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"\\u265A \", /*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"\\u0110en:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 154,\n            columnNumber: 16\n          }, this), \" \", playerColor === \"black\" ? \"B·∫°n\" : \"ƒê·ªëi th·ªß\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 154,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 9\n      }, this), gameOver && /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginTop: \"30px\",\n          color: \"red\",\n          textAlign: \"center\",\n          fontWeight: \"bold\"\n        },\n        children: gameOver === \"white\" ? \"Tr·∫Øng th·∫Øng!\" : gameOver === \"black\" ? \"ƒêen th·∫Øng!\" : \"H√≤a!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 98,\n    columnNumber: 5\n  }, this);\n};\n_s(Board, \"NN9VFB+ADyisDa3/uItI6fx8YKo=\", false, function () {\n  return [useChessSocket];\n});\n_c = Board;\nexport default Board;\nvar _c;\n$RefreshReg$(_c, \"Board\");","map":{"version":3,"names":["useState","Square","isValidMove","useChessSocket","playSound","jsxDEV","_jsxDEV","pieceImages","P","p","R","r","N","n","B","b","Q","q","K","k","initialBoard","Board","roomId","_s","board","setBoard","map","split","selected","setSelected","validMoves","setValidMoves","turn","setTurn","gameOver","setGameOver","sendMove","playerColor","fen","newTurn","newGameOver","event","console","log","rows","flatMap","c","isNaN","Array","fill","handleClick","piece","pieceColor","toUpperCase","moves","i","j","push","r1","c1","selectedPiece","some","x","y","moveUCI","String","fromCharCode","isWhitePawn","isBlackPawn","promotionRow","style","display","justifyContent","alignItems","gap","marginTop","children","color","textAlign","fontSize","marginBottom","fileName","_jsxFileName","lineNumber","columnNumber","gridTemplateColumns","gridTemplateRows","border","row","piecePath","isSelected","isValid","bgColor","value","onClick","width","padding","borderRadius","backgroundColor","fontWeight","_c","$RefreshReg$"],"sources":["C:/Users/User/PycharmProjects/Chess/fe/src/components/Board.tsx"],"sourcesContent":["import { useState, useEffect } from \"react\";\nimport Square from \"./Square\";\nimport { isValidMove } from \"./chessRules\";\nimport { useChessSocket } from \"./useChessSocket\";\nimport { playSound } from \"../utils/soundManager\";\n\nconst pieceImages: { [key: string]: string } = {\n  P: \"/pieces/wP.png\", p: \"/pieces/bP.png\",\n  R: \"/pieces/wR.png\", r: \"/pieces/bR.png\",\n  N: \"/pieces/wN.png\", n: \"/pieces/bN.png\",\n  B: \"/pieces/wB.png\", b: \"/pieces/bB.png\",\n  Q: \"/pieces/wQ.png\", q: \"/pieces/bQ.png\",\n  K: \"/pieces/wK.png\", k: \"/pieces/bK.png\",\n};\n\nconst initialBoard: string[] = [\n  \"rnbqkbnr\",\n  \"pppppppp\",\n  \"........\",\n  \"........\",\n  \"........\",\n  \"........\",\n  \"PPPPPPPP\",\n  \"RNBQKBNR\",\n];\n\nconst Board: React.FC<{ roomId: string }> = ({ roomId }) => {\n  const [board, setBoard] = useState<string[][]>(initialBoard.map(r => r.split(\"\")));\n  const [selected, setSelected] = useState<[number, number] | null>(null);\n  const [validMoves, setValidMoves] = useState<[number, number][]>([]);\n  const [turn, setTurn] = useState<\"white\" | \"black\">(\"white\");\n  const [gameOver, setGameOver] = useState<null | \"white\" | \"black\">(null);\n\n  const { sendMove, playerColor } = useChessSocket(roomId, (fen, newTurn, newGameOver, event) => {\n    console.log(\"üì® Received FEN:\", fen);\n\n    const rows = fen.split(\" \")[0].split(\"/\").map(r =>\n      r.split(\"\").flatMap(c => isNaN(+c) ? [c] : Array(+c).fill(\".\"))\n    );\n    setBoard(rows as string[][]);\n    setTurn(newTurn);\n    setGameOver(newGameOver);\n    if (event) playSound(event); // üß© ph√°t nh·∫°c theo s·ª± ki·ªán\n  });\n\n  const handleClick = (r: number, c: number) => {\n    if (gameOver || !playerColor) return;\n\n    // Ch·ªâ cho di chuy·ªÉn khi ƒë√∫ng l∆∞·ª£t\n    if (turn !== playerColor) return;\n\n    const piece = board[r][c];\n    const pieceColor = piece.toUpperCase() === piece ? \"white\" : \"black\";\n\n    if (!selected) {\n      if (piece !== \".\" && pieceColor === playerColor) {\n        setSelected([r, c]);\n        const moves: [number, number][] = [];\n        for (let i = 0; i < 8; i++)\n          for (let j = 0; j < 8; j++)\n            if (isValidMove(piece, r, c, i, j, board))\n              moves.push([i, j]);\n        setValidMoves(moves);\n      }\n      return;\n    }\n\n    const [r1, c1] = selected;\n    const selectedPiece = board[r1][c1];\n    if (!selectedPiece || selectedPiece === \".\") {\n      setSelected(null);\n      setValidMoves([]);\n      return;\n    }\n\n    if (validMoves.some(([x, y]) => x === r && y === c)) {\n      let moveUCI = `${String.fromCharCode(97 + c1)}${8 - r1}${String.fromCharCode(97 + c)}${8 - r}`;\n\n      // üß© TH√äM X·ª¨ L√ù PHONG H·∫¨U:\n      const isWhitePawn = selectedPiece === \"P\";\n      const isBlackPawn = selectedPiece === \"p\";\n      const promotionRow = isWhitePawn ? 0 : isBlackPawn ? 7 : -1;\n\n      // n·∫øu t·ªët ƒëi ƒë·∫øn h√†ng cu·ªëi c√πng ‚Üí phong h·∫≠u m·∫∑c ƒë·ªãnh\n      if ((isWhitePawn && r === 0) || (isBlackPawn && r === 7)) {\n        moveUCI += \"q\"; // phong th√†nh h·∫≠u (queen)\n      }\n\n\n      sendMove(moveUCI);\n    }\n\n    setSelected(null);\n    setValidMoves([]);\n  };\n\n  return (\n    <div style={{ display: \"flex\", justifyContent: \"center\", alignItems: \"flex-start\", gap: \"40px\", marginTop: \"20px\" }}>\n\n      {/* üü© C·ªôt tr√°i: B√†n c·ªù */}\n      <div>\n        {gameOver && (\n          <div style={{ color: \"red\", textAlign: \"center\", fontSize: \"20px\", marginBottom: \"10px\" }}>\n            {gameOver === \"white\" ? \"Tr·∫Øng th·∫Øng!\" : gameOver === \"black\" ? \"ƒêen th·∫Øng!\" : \"H√≤a!\"}\n          </div>\n        )}\n\n        <div\n          style={{\n            display: \"grid\",\n            gridTemplateColumns: \"repeat(8, 60px)\",\n            gridTemplateRows: \"repeat(8, 60px)\",\n            border: \"2px solid black\",\n          }}\n        >\n          {board.map((row, i) =>\n            row.map((piece, j) => {\n              const color = (i + j) % 2 === 0 ? \"#f0d9b5\" : \"#b58863\";\n              const piecePath = pieceImages[piece] || \"\";\n              const isSelected = selected?.[0] === i && selected?.[1] === j;\n              const isValid = validMoves.some(([x, y]) => x === i && y === j);\n              const bgColor = isSelected ? \"yellow\" : isValid ? \"#a0d8ff\" : color;\n              return (\n                <Square\n                  key={`${i}-${j}`}\n                  value={piecePath}\n                  isSelected={isSelected}\n                  onClick={() => handleClick(i, j)}\n                  color={bgColor}\n                />\n              );\n            })\n          )}\n        </div>\n      </div>\n\n      {/* üü¶ C·ªôt ph·∫£i: Th√¥ng tin ph√≤ng v√† ng∆∞·ªùi ch∆°i */}\n      <div\n        style={{\n          width: \"300px\",\n          padding: \"20px\",\n          border: \"2px solid #333\",\n          borderRadius: \"10px\",\n          backgroundColor: \"#fafafa\",\n        }}\n      >\n        <h3 style={{ textAlign: \"center\" }}>Th√¥ng tin ph√≤ng</h3>\n        <p><strong>M√£ ph√≤ng:</strong> {roomId}</p>\n        <p><strong>L∆∞·ª£t hi·ªán t·∫°i:</strong> {turn === \"white\" ? \"Tr·∫Øng\" : \"ƒêen\"}</p>\n\n        <div style={{ marginTop: \"20px\" }}>\n          <h4>Ng∆∞·ªùi ch∆°i</h4>\n          <p>‚ôî <strong>Tr·∫Øng:</strong> {playerColor === \"white\" ? \"B·∫°n\" : \"ƒê·ªëi th·ªß\"}</p>\n          <p>‚ôö <strong>ƒêen:</strong> {playerColor === \"black\" ? \"B·∫°n\" : \"ƒê·ªëi th·ªß\"}</p>\n        </div>\n\n        {gameOver && (\n          <div style={{ marginTop: \"30px\", color: \"red\", textAlign: \"center\", fontWeight: \"bold\" }}>\n            {gameOver === \"white\" ? \"Tr·∫Øng th·∫Øng!\" : gameOver === \"black\" ? \"ƒêen th·∫Øng!\" : \"H√≤a!\"}\n          </div>\n        )}\n      </div>\n    </div>\n  );\n\n};\n\nexport default Board;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}