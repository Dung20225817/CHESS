{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\User\\\\PycharmProjects\\\\Chess\\\\fe\\\\src\\\\components\\\\Board.tsx\",\n  _s = $RefreshSig$();\nimport { useState } from \"react\";\nimport Square from \"./Square\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst pieceImages = {\n  P: \"/pieces/wP.png\",\n  p: \"/pieces/bP.png\",\n  R: \"/pieces/wR.png\",\n  r: \"/pieces/bR.png\",\n  N: \"/pieces/wN.png\",\n  n: \"/pieces/bN.png\",\n  B: \"/pieces/wB.png\",\n  b: \"/pieces/bB.png\",\n  Q: \"/pieces/wQ.png\",\n  q: \"/pieces/bQ.png\",\n  K: \"/pieces/wK.png\",\n  k: \"/pieces/bK.png\"\n};\nconst initialBoard = [\"rnbqkbnr\", \"pppppppp\", \"........\", \"........\", \"........\", \"........\", \"PPPPPPPP\", \"RNBQKBNR\"];\nfunction isValidMove(piece, r1, c1, r2, c2, board, kingMoved, rookMoved) {\n  const target = board[r2][c2];\n\n  // Không ăn quân cùng màu\n  if (piece === piece.toUpperCase() && target !== \".\" && target === target.toUpperCase()) return false;\n  if (piece === piece.toLowerCase() && target !== \".\" && target === target.toLowerCase()) return false;\n  switch (piece.toLowerCase()) {\n    case \"p\":\n      {\n        const direction = piece === \"P\" ? -1 : 1;\n        const startRow = piece === \"P\" ? 6 : 1;\n        // Đi thẳng 1 ô\n        if (c1 === c2 && r2 === r1 + direction && board[r2][c2] === \".\") return true;\n        // Đi thẳng 2 ô lần đầu\n        if (c1 === c2 && r1 === startRow && r2 === r1 + 2 * direction && board[r1 + direction][c1] === \".\" && board[r2][c2] === \".\") return true;\n        // Ăn chéo\n        if (Math.abs(c2 - c1) === 1 && r2 === r1 + direction && target !== \".\") return true;\n        return false;\n      }\n    case \"r\":\n      {\n        if (r1 === r2) {\n          const min = Math.min(c1, c2) + 1;\n          const max = Math.max(c1, c2);\n          for (let c = min; c < max; c++) if (board[r1][c] !== \".\") return false;\n          return true;\n        } else if (c1 === c2) {\n          const min = Math.min(r1, r2) + 1;\n          const max = Math.max(r1, r2);\n          for (let r = min; r < max; r++) if (board[r][c1] !== \".\") return false;\n          return true;\n        }\n        return false;\n      }\n    case \"n\":\n      return Math.abs(r2 - r1) === 2 && Math.abs(c2 - c1) === 1 || Math.abs(r2 - r1) === 1 && Math.abs(c2 - c1) === 2;\n    case \"b\":\n      {\n        if (Math.abs(r2 - r1) !== Math.abs(c2 - c1)) return false;\n        const dr = r2 > r1 ? 1 : -1;\n        const dc = c2 > c1 ? 1 : -1;\n        let r = r1 + dr,\n          c = c1 + dc;\n        while (r !== r2 && c !== c2) {\n          if (board[r][c] !== \".\") return false;\n          r += dr;\n          c += dc;\n        }\n        return true;\n      }\n    case \"q\":\n      return isValidMove(piece === \"Q\" ? \"R\" : \"r\", r1, c1, r2, c2, board, kingMoved, rookMoved) || isValidMove(piece === \"Q\" ? \"B\" : \"b\", r1, c1, r2, c2, board, kingMoved, rookMoved);\n    case \"k\":\n      {\n        // Di chuyển 1 ô bình thường\n        if (Math.abs(r2 - r1) <= 1 && Math.abs(c2 - c1) <= 1) return true;\n\n        // Castling vua trắng\n        if (piece === \"K\" && r1 === 7 && r2 === 7) {\n          // Ngắn\n          if (c1 === 4 && c2 === 6 && !kingMoved.white && !rookMoved.wH && board[7][5] === \".\" && board[7][6] === \".\") return true;\n          // Dài\n          if (c1 === 4 && c2 === 2 && !kingMoved.white && !rookMoved.wA && board[7][1] === \".\" && board[7][2] === \".\" && board[7][3] === \".\") return true;\n        }\n        // Castling vua đen\n        if (piece === \"k\" && r1 === 0 && r2 === 0) {\n          if (c1 === 4 && c2 === 6 && !kingMoved.black && !rookMoved.bH && board[0][5] === \".\" && board[0][6] === \".\") return true;\n          if (c1 === 4 && c2 === 2 && !kingMoved.black && !rookMoved.bA && board[0][1] === \".\" && board[0][2] === \".\" && board[0][3] === \".\") return true;\n        }\n        return false;\n      }\n    default:\n      return false;\n  }\n}\nconst Board = () => {\n  _s();\n  const [board, setBoard] = useState(initialBoard.map(row => row.split(\"\")));\n  const [selected, setSelected] = useState(null);\n  const [kingMoved, setKingMoved] = useState({\n    white: false,\n    black: false\n  });\n  const [rookMoved, setRookMoved] = useState({\n    wA: false,\n    wH: false,\n    bA: false,\n    bH: false\n  });\n  const handleClick = (r, c) => {\n    if (!selected) {\n      if (board[r][c] !== \".\") setSelected([r, c]);\n      return;\n    }\n    const [r1, c1] = selected;\n    const piece = board[r1][c1];\n    if (!piece || piece === \".\") {\n      setSelected(null);\n      return;\n    }\n\n    // Kiểm tra castling\n    if (piece === \"K\" && r1 === 7 && c1 === 4) {\n      if (r === 7 && c === 6 && !kingMoved.white && !rookMoved.wH) {\n        // Ngắn trắng\n        const newBoard = board.map(row => [...row]);\n        newBoard[7][4] = \".\";\n        newBoard[7][6] = \"K\";\n        newBoard[7][7] = \".\";\n        newBoard[7][5] = \"R\";\n        setBoard(newBoard);\n        setKingMoved({\n          ...kingMoved,\n          white: true\n        });\n        setRookMoved({\n          ...rookMoved,\n          wH: true\n        });\n        setSelected(null);\n        return;\n      }\n      if (r === 7 && c === 2 && !kingMoved.white && !rookMoved.wA) {\n        // Dài trắng\n        const newBoard = board.map(row => [...row]);\n        newBoard[7][4] = \".\";\n        newBoard[7][2] = \"K\";\n        newBoard[7][0] = \".\";\n        newBoard[7][3] = \"R\";\n        setBoard(newBoard);\n        setKingMoved({\n          ...kingMoved,\n          white: true\n        });\n        setRookMoved({\n          ...rookMoved,\n          wA: true\n        });\n        setSelected(null);\n        return;\n      }\n    }\n    if (piece === \"k\" && r1 === 0 && c1 === 4) {\n      if (r === 0 && c === 6 && !kingMoved.black && !rookMoved.bH) {\n        // Ngắn đen\n        const newBoard = board.map(row => [...row]);\n        newBoard[0][4] = \".\";\n        newBoard[0][6] = \"k\";\n        newBoard[0][7] = \".\";\n        newBoard[0][5] = \"r\";\n        setBoard(newBoard);\n        setKingMoved({\n          ...kingMoved,\n          black: true\n        });\n        setRookMoved({\n          ...rookMoved,\n          bH: true\n        });\n        setSelected(null);\n        return;\n      }\n      if (r === 0 && c === 2 && !kingMoved.black && !rookMoved.bA) {\n        // Dài đen\n        const newBoard = board.map(row => [...row]);\n        newBoard[0][4] = \".\";\n        newBoard[0][2] = \"k\";\n        newBoard[0][0] = \".\";\n        newBoard[0][3] = \"r\";\n        setBoard(newBoard);\n        setKingMoved({\n          ...kingMoved,\n          black: true\n        });\n        setRookMoved({\n          ...rookMoved,\n          bA: true\n        });\n        setSelected(null);\n        return;\n      }\n    }\n\n    // Di chuyển bình thường\n    if (isValidMove(piece, r1, c1, r, c, board, kingMoved, rookMoved)) {\n      const newBoard = board.map(row => [...row]);\n      newBoard[r1][c1] = \".\";\n\n      // Promotion tự động\n      if (piece.toLowerCase() === \"p\" && (r === 0 || r === 7)) {\n        newBoard[r][c] = piece === \"P\" ? \"Q\" : \"q\";\n      } else {\n        newBoard[r][c] = piece;\n      }\n\n      // Cập nhật vua và xe nếu di chuyển\n      if (piece === \"K\") setKingMoved({\n        ...kingMoved,\n        white: true\n      });\n      if (piece === \"k\") setKingMoved({\n        ...kingMoved,\n        black: true\n      });\n      if (piece === \"R\" && r1 === 7 && c1 === 0) setRookMoved({\n        ...rookMoved,\n        wA: true\n      });\n      if (piece === \"R\" && r1 === 7 && c1 === 7) setRookMoved({\n        ...rookMoved,\n        wH: true\n      });\n      if (piece === \"r\" && r1 === 0 && c1 === 0) setRookMoved({\n        ...rookMoved,\n        bA: true\n      });\n      if (piece === \"r\" && r1 === 0 && c1 === 7) setRookMoved({\n        ...rookMoved,\n        bH: true\n      });\n      setBoard(newBoard);\n    }\n    setSelected(null);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      display: \"grid\",\n      gridTemplateColumns: \"repeat(8, 60px)\",\n      gridTemplateRows: \"repeat(8, 60px)\",\n      border: \"2px solid black\"\n    },\n    children: board.map((row, i) => row.map((piece, j) => {\n      const color = (i + j) % 2 === 0 ? \"#f0d9b5\" : \"#b58863\";\n      const piecePath = pieceImages[piece] || \"\";\n      const isSelected = (selected === null || selected === void 0 ? void 0 : selected[0]) === i && (selected === null || selected === void 0 ? void 0 : selected[1]) === j;\n      return /*#__PURE__*/_jsxDEV(Square, {\n        value: piecePath,\n        isSelected: isSelected,\n        onClick: () => handleClick(i, j),\n        color: color\n      }, `${i}-${j}`, false, {\n        fileName: _jsxFileName,\n        lineNumber: 230,\n        columnNumber: 13\n      }, this);\n    }))\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 216,\n    columnNumber: 5\n  }, this);\n};\n_s(Board, \"ct4QtA4wf6o4LpbL3x9nPEqpqVg=\");\n_c = Board;\nexport default Board;\nvar _c;\n$RefreshReg$(_c, \"Board\");","map":{"version":3,"names":["useState","Square","jsxDEV","_jsxDEV","pieceImages","P","p","R","r","N","n","B","b","Q","q","K","k","initialBoard","isValidMove","piece","r1","c1","r2","c2","board","kingMoved","rookMoved","target","toUpperCase","toLowerCase","direction","startRow","Math","abs","min","max","c","dr","dc","white","wH","wA","black","bH","bA","Board","_s","setBoard","map","row","split","selected","setSelected","setKingMoved","setRookMoved","handleClick","newBoard","style","display","gridTemplateColumns","gridTemplateRows","border","children","i","j","color","piecePath","isSelected","value","onClick","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/User/PycharmProjects/Chess/fe/src/components/Board.tsx"],"sourcesContent":["import { useState } from \"react\";\nimport Square from \"./Square\";\n\nconst pieceImages: { [key: string]: string } = {\n  P: \"/pieces/wP.png\",\n  p: \"/pieces/bP.png\",\n  R: \"/pieces/wR.png\",\n  r: \"/pieces/bR.png\",\n  N: \"/pieces/wN.png\",\n  n: \"/pieces/bN.png\",\n  B: \"/pieces/wB.png\",\n  b: \"/pieces/bB.png\",\n  Q: \"/pieces/wQ.png\",\n  q: \"/pieces/bQ.png\",\n  K: \"/pieces/wK.png\",\n  k: \"/pieces/bK.png\",\n};\n\nconst initialBoard: string[] = [\n  \"rnbqkbnr\",\n  \"pppppppp\",\n  \"........\",\n  \"........\",\n  \"........\",\n  \"........\",\n  \"PPPPPPPP\",\n  \"RNBQKBNR\",\n];\n\ntype KingMoved = { white: boolean; black: boolean };\ntype RookMoved = { wA: boolean; wH: boolean; bA: boolean; bH: boolean };\n\nfunction isValidMove(\n  piece: string,\n  r1: number,\n  c1: number,\n  r2: number,\n  c2: number,\n  board: string[][],\n  kingMoved: KingMoved,\n  rookMoved: RookMoved\n): boolean {\n  const target = board[r2][c2];\n\n  // Không ăn quân cùng màu\n  if (piece === piece.toUpperCase() && target !== \".\" && target === target.toUpperCase()) return false;\n  if (piece === piece.toLowerCase() && target !== \".\" && target === target.toLowerCase()) return false;\n\n  switch (piece.toLowerCase()) {\n    case \"p\": {\n      const direction = piece === \"P\" ? -1 : 1;\n      const startRow = piece === \"P\" ? 6 : 1;\n      // Đi thẳng 1 ô\n      if (c1 === c2 && r2 === r1 + direction && board[r2][c2] === \".\") return true;\n      // Đi thẳng 2 ô lần đầu\n      if (c1 === c2 && r1 === startRow && r2 === r1 + 2 * direction && board[r1 + direction][c1] === \".\" && board[r2][c2] === \".\") return true;\n      // Ăn chéo\n      if (Math.abs(c2 - c1) === 1 && r2 === r1 + direction && target !== \".\") return true;\n      return false;\n    }\n    case \"r\": {\n      if (r1 === r2) {\n        const min = Math.min(c1, c2) + 1;\n        const max = Math.max(c1, c2);\n        for (let c = min; c < max; c++) if (board[r1][c] !== \".\") return false;\n        return true;\n      } else if (c1 === c2) {\n        const min = Math.min(r1, r2) + 1;\n        const max = Math.max(r1, r2);\n        for (let r = min; r < max; r++) if (board[r][c1] !== \".\") return false;\n        return true;\n      }\n      return false;\n    }\n    case \"n\":\n      return (Math.abs(r2 - r1) === 2 && Math.abs(c2 - c1) === 1) || (Math.abs(r2 - r1) === 1 && Math.abs(c2 - c1) === 2);\n    case \"b\": {\n      if (Math.abs(r2 - r1) !== Math.abs(c2 - c1)) return false;\n      const dr = r2 > r1 ? 1 : -1;\n      const dc = c2 > c1 ? 1 : -1;\n      let r = r1 + dr, c = c1 + dc;\n      while (r !== r2 && c !== c2) {\n        if (board[r][c] !== \".\") return false;\n        r += dr;\n        c += dc;\n      }\n      return true;\n    }\n    case \"q\":\n      return isValidMove(piece === \"Q\" ? \"R\" : \"r\", r1, c1, r2, c2, board, kingMoved, rookMoved) ||\n             isValidMove(piece === \"Q\" ? \"B\" : \"b\", r1, c1, r2, c2, board, kingMoved, rookMoved);\n    case \"k\": {\n      // Di chuyển 1 ô bình thường\n      if (Math.abs(r2 - r1) <= 1 && Math.abs(c2 - c1) <= 1) return true;\n\n      // Castling vua trắng\n      if (piece === \"K\" && r1 === 7 && r2 === 7) {\n        // Ngắn\n        if (c1 === 4 && c2 === 6 && !kingMoved.white && !rookMoved.wH && board[7][5] === \".\" && board[7][6] === \".\") return true;\n        // Dài\n        if (c1 === 4 && c2 === 2 && !kingMoved.white && !rookMoved.wA && board[7][1] === \".\" && board[7][2] === \".\" && board[7][3] === \".\") return true;\n      }\n      // Castling vua đen\n      if (piece === \"k\" && r1 === 0 && r2 === 0) {\n        if (c1 === 4 && c2 === 6 && !kingMoved.black && !rookMoved.bH && board[0][5] === \".\" && board[0][6] === \".\") return true;\n        if (c1 === 4 && c2 === 2 && !kingMoved.black && !rookMoved.bA && board[0][1] === \".\" && board[0][2] === \".\" && board[0][3] === \".\") return true;\n      }\n      return false;\n    }\n    default:\n      return false;\n  }\n}\n\nconst Board: React.FC = () => {\n  const [board, setBoard] = useState<string[][]>(initialBoard.map(row => row.split(\"\")));\n  const [selected, setSelected] = useState<[number, number] | null>(null);\n\n  const [kingMoved, setKingMoved] = useState<KingMoved>({ white: false, black: false });\n  const [rookMoved, setRookMoved] = useState<RookMoved>({ wA: false, wH: false, bA: false, bH: false });\n\n  const handleClick = (r: number, c: number) => {\n    if (!selected) {\n      if (board[r][c] !== \".\") setSelected([r, c]);\n      return;\n    }\n\n    const [r1, c1] = selected;\n    const piece = board[r1][c1];\n    if (!piece || piece === \".\") {\n      setSelected(null);\n      return;\n    }\n\n    // Kiểm tra castling\n    if (piece === \"K\" && r1 === 7 && c1 === 4) {\n      if (r === 7 && c === 6 && !kingMoved.white && !rookMoved.wH) { // Ngắn trắng\n        const newBoard = board.map(row => [...row]);\n        newBoard[7][4] = \".\";\n        newBoard[7][6] = \"K\";\n        newBoard[7][7] = \".\";\n        newBoard[7][5] = \"R\";\n        setBoard(newBoard);\n        setKingMoved({ ...kingMoved, white: true });\n        setRookMoved({ ...rookMoved, wH: true });\n        setSelected(null);\n        return;\n      }\n      if (r === 7 && c === 2 && !kingMoved.white && !rookMoved.wA) { // Dài trắng\n        const newBoard = board.map(row => [...row]);\n        newBoard[7][4] = \".\";\n        newBoard[7][2] = \"K\";\n        newBoard[7][0] = \".\";\n        newBoard[7][3] = \"R\";\n        setBoard(newBoard);\n        setKingMoved({ ...kingMoved, white: true });\n        setRookMoved({ ...rookMoved, wA: true });\n        setSelected(null);\n        return;\n      }\n    }\n    if (piece === \"k\" && r1 === 0 && c1 === 4) {\n      if (r === 0 && c === 6 && !kingMoved.black && !rookMoved.bH) { // Ngắn đen\n        const newBoard = board.map(row => [...row]);\n        newBoard[0][4] = \".\";\n        newBoard[0][6] = \"k\";\n        newBoard[0][7] = \".\";\n        newBoard[0][5] = \"r\";\n        setBoard(newBoard);\n        setKingMoved({ ...kingMoved, black: true });\n        setRookMoved({ ...rookMoved, bH: true });\n        setSelected(null);\n        return;\n      }\n      if (r === 0 && c === 2 && !kingMoved.black && !rookMoved.bA) { // Dài đen\n        const newBoard = board.map(row => [...row]);\n        newBoard[0][4] = \".\";\n        newBoard[0][2] = \"k\";\n        newBoard[0][0] = \".\";\n        newBoard[0][3] = \"r\";\n        setBoard(newBoard);\n        setKingMoved({ ...kingMoved, black: true });\n        setRookMoved({ ...rookMoved, bA: true });\n        setSelected(null);\n        return;\n      }\n    }\n\n    // Di chuyển bình thường\n    if (isValidMove(piece, r1, c1, r, c, board, kingMoved, rookMoved)) {\n      const newBoard = board.map(row => [...row]);\n      newBoard[r1][c1] = \".\";\n\n      // Promotion tự động\n      if (piece.toLowerCase() === \"p\" && (r === 0 || r === 7)) {\n        newBoard[r][c] = piece === \"P\" ? \"Q\" : \"q\";\n      } else {\n        newBoard[r][c] = piece;\n      }\n\n      // Cập nhật vua và xe nếu di chuyển\n      if (piece === \"K\") setKingMoved({ ...kingMoved, white: true });\n      if (piece === \"k\") setKingMoved({ ...kingMoved, black: true });\n      if (piece === \"R\" && r1 === 7 && c1 === 0) setRookMoved({ ...rookMoved, wA: true });\n      if (piece === \"R\" && r1 === 7 && c1 === 7) setRookMoved({ ...rookMoved, wH: true });\n      if (piece === \"r\" && r1 === 0 && c1 === 0) setRookMoved({ ...rookMoved, bA: true });\n      if (piece === \"r\" && r1 === 0 && c1 === 7) setRookMoved({ ...rookMoved, bH: true });\n\n      setBoard(newBoard);\n    }\n\n    setSelected(null);\n  };\n\n  return (\n    <div\n      style={{\n        display: \"grid\",\n        gridTemplateColumns: \"repeat(8, 60px)\",\n        gridTemplateRows: \"repeat(8, 60px)\",\n        border: \"2px solid black\",\n      }}\n    >\n      {board.map((row, i) =>\n        row.map((piece, j) => {\n          const color = (i + j) % 2 === 0 ? \"#f0d9b5\" : \"#b58863\";\n          const piecePath = pieceImages[piece] || \"\";\n          const isSelected = selected?.[0] === i && selected?.[1] === j;\n          return (\n            <Square\n              key={`${i}-${j}`}\n              value={piecePath}\n              isSelected={isSelected}\n              onClick={() => handleClick(i, j)}\n              color={color}\n            />\n          );\n        })\n      )}\n    </div>\n  );\n};\n\nexport default Board;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}