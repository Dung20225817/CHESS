{"ast":null,"code":"var _jsxFileName = \"D:\\\\CHESS\\\\fe\\\\src\\\\components\\\\Board.tsx\",\n  _s = $RefreshSig$();\nimport { useState } from \"react\";\nimport Square from \"./Square\";\nimport { isValidMove } from \"./chessRules\";\nimport { useChessSocket } from \"./useChessSocket\";\nimport { playSound } from \"../utils/soundManager\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst pieceImages = {\n  P: \"/pieces/wP.png\",\n  p: \"/pieces/bP.png\",\n  R: \"/pieces/wR.png\",\n  r: \"/pieces/bR.png\",\n  N: \"/pieces/wN.png\",\n  n: \"/pieces/bN.png\",\n  B: \"/pieces/wB.png\",\n  b: \"/pieces/bB.png\",\n  Q: \"/pieces/wQ.png\",\n  q: \"/pieces/bQ.png\",\n  K: \"/pieces/wK.png\",\n  k: \"/pieces/bK.png\"\n};\nconst initialBoard = [\"rnbqkbnr\", \"pppppppp\", \"........\", \"........\", \"........\", \"........\", \"PPPPPPPP\", \"RNBQKBNR\"];\n\n// ✅ Parse FEN (hàng 1 ở dưới cùng)\nconst parseFEN = fen => {\n  return fen.split(\" \")[0].split(\"/\").map(row => {\n    const cells = [];\n    for (const c of row) {\n      if (isNaN(+c)) cells.push(c);else cells.push(...Array(+c).fill(\".\"));\n    }\n    return cells;\n  }).reverse();\n};\nconst Board = ({\n  roomId\n}) => {\n  _s();\n  const [board, setBoard] = useState(initialBoard.map(r => r.split(\"\")));\n  const [selected, setSelected] = useState(null);\n  const [validMoves, setValidMoves] = useState([]);\n  const [turn, setTurn] = useState(\"white\");\n  const [gameOver, setGameOver] = useState(null);\n  const {\n    sendMove,\n    playerColor\n  } = useChessSocket(roomId, (fen, newTurn, newGameOver, event) => {\n    setBoard(parseFEN(fen));\n    setTurn(newTurn);\n    setGameOver(newGameOver);\n    if (event) playSound(event);\n  });\n  const handleClick = (r, c) => {\n    if (gameOver || !playerColor) return;\n    if (turn !== playerColor) return;\n    const piece = board[r][c];\n    const pieceColor = piece === piece.toUpperCase() ? \"white\" : \"black\";\n\n    // Chọn quân\n    if (!selected) {\n      if (piece !== \".\" && pieceColor === playerColor) {\n        setSelected([r, c]);\n        const moves = [];\n        for (let i = 0; i < 8; i++) for (let j = 0; j < 8; j++) if (isValidMove(piece, r, c, i, j, board)) moves.push([i, j]);\n        setValidMoves(moves);\n      }\n      return;\n    }\n    const [r1, c1] = selected;\n    const selectedPiece = board[r1][c1];\n    if (!selectedPiece || selectedPiece === \".\") {\n      setSelected(null);\n      setValidMoves([]);\n      return;\n    }\n\n    // Nếu nước đi hợp lệ\n    if (validMoves.some(([x, y]) => x === r && y === c)) {\n      let moveUCI = `${String.fromCharCode(97 + c1)}${8 - r1}${String.fromCharCode(97 + c)}${8 - r}`;\n\n      // ✅ phong hậu mặc định\n      const isWhitePawn = selectedPiece === \"P\";\n      const isBlackPawn = selectedPiece === \"p\";\n      if (isWhitePawn && r === 7 || isBlackPawn && r === 0) {\n        moveUCI += \"q\";\n      }\n      sendMove(moveUCI);\n    }\n    setSelected(null);\n    setValidMoves([]);\n  };\n\n  // ✅ Giữ bàn cố định, chỉ xoay khi hiển thị nếu là người đen\n  const displayBoard = playerColor === \"black\" ? [...board].map(r => [...r]).reverse() : board;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      display: \"flex\",\n      justifyContent: \"center\",\n      alignItems: \"flex-start\",\n      gap: \"40px\",\n      marginTop: \"20px\"\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      children: [gameOver && /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          color: \"red\",\n          textAlign: \"center\",\n          fontSize: \"20px\",\n          marginBottom: \"10px\"\n        },\n        children: gameOver === \"white\" ? \"Trắng thắng!\" : gameOver === \"black\" ? \"Đen thắng!\" : \"Hòa!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: \"grid\",\n          gridTemplateColumns: \"repeat(8, 60px)\",\n          gridTemplateRows: \"repeat(8, 60px)\",\n          border: \"2px solid black\"\n        },\n        children: displayBoard.map((row, i) => row.map((piece, j) => {\n          const color = (i + j) % 2 === 0 ? \"#f0d9b5\" : \"#b58863\";\n          const piecePath = pieceImages[piece] || \"\";\n          const isSelected = (selected === null || selected === void 0 ? void 0 : selected[0]) === i && (selected === null || selected === void 0 ? void 0 : selected[1]) === j;\n          const isValid = validMoves.some(([x, y]) => x === i && y === j);\n          const bgColor = isSelected ? \"yellow\" : isValid ? \"#a0d8ff\" : color;\n          return /*#__PURE__*/_jsxDEV(Square, {\n            value: piecePath,\n            isSelected: isSelected,\n            onClick: () => handleClick(i, j),\n            color: bgColor\n          }, `${i}-${j}`, false, {\n            fileName: _jsxFileName,\n            lineNumber: 131,\n            columnNumber: 17\n          }, this);\n        }))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        width: \"300px\",\n        padding: \"20px\",\n        border: \"2px solid #333\",\n        borderRadius: \"10px\",\n        backgroundColor: \"#fafafa\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        style: {\n          textAlign: \"center\"\n        },\n        children: \"Th\\xF4ng tin ph\\xF2ng\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"M\\xE3 ph\\xF2ng:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 146,\n          columnNumber: 12\n        }, this), \" \", roomId]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"L\\u01B0\\u1EE3t hi\\u1EC7n t\\u1EA1i:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 147,\n          columnNumber: 12\n        }, this), \" \", turn === \"white\" ? \"Trắng\" : \"Đen\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginTop: \"20px\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n          children: \"Ng\\u01B0\\u1EDDi ch\\u01A1i\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 150,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"\\u2654 \", /*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Tr\\u1EAFng:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 151,\n            columnNumber: 16\n          }, this), \" \", playerColor === \"white\" ? \"Bạn\" : \"Đối thủ\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 151,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"\\u265A \", /*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"\\u0110en:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 152,\n            columnNumber: 16\n          }, this), \" \", playerColor === \"black\" ? \"Bạn\" : \"Đối thủ\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 152,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 9\n      }, this), gameOver && /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginTop: \"30px\",\n          color: \"red\",\n          textAlign: \"center\",\n          fontWeight: \"bold\"\n        },\n        children: gameOver === \"white\" ? \"Trắng thắng!\" : gameOver === \"black\" ? \"Đen thắng!\" : \"Hòa!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 108,\n    columnNumber: 5\n  }, this);\n};\n_s(Board, \"NN9VFB+ADyisDa3/uItI6fx8YKo=\", false, function () {\n  return [useChessSocket];\n});\n_c = Board;\nexport default Board;\nvar _c;\n$RefreshReg$(_c, \"Board\");","map":{"version":3,"names":["useState","Square","isValidMove","useChessSocket","playSound","jsxDEV","_jsxDEV","pieceImages","P","p","R","r","N","n","B","b","Q","q","K","k","initialBoard","parseFEN","fen","split","map","row","cells","c","isNaN","push","Array","fill","reverse","Board","roomId","_s","board","setBoard","selected","setSelected","validMoves","setValidMoves","turn","setTurn","gameOver","setGameOver","sendMove","playerColor","newTurn","newGameOver","event","handleClick","piece","pieceColor","toUpperCase","moves","i","j","r1","c1","selectedPiece","some","x","y","moveUCI","String","fromCharCode","isWhitePawn","isBlackPawn","displayBoard","style","display","justifyContent","alignItems","gap","marginTop","children","color","textAlign","fontSize","marginBottom","fileName","_jsxFileName","lineNumber","columnNumber","gridTemplateColumns","gridTemplateRows","border","piecePath","isSelected","isValid","bgColor","value","onClick","width","padding","borderRadius","backgroundColor","fontWeight","_c","$RefreshReg$"],"sources":["D:/CHESS/fe/src/components/Board.tsx"],"sourcesContent":["import { useState } from \"react\";\nimport Square from \"./Square\";\nimport { isValidMove } from \"./chessRules\";\nimport { useChessSocket } from \"./useChessSocket\";\nimport { playSound } from \"../utils/soundManager\";\n\nconst pieceImages: { [key: string]: string } = {\n  P: \"/pieces/wP.png\", p: \"/pieces/bP.png\",\n  R: \"/pieces/wR.png\", r: \"/pieces/bR.png\",\n  N: \"/pieces/wN.png\", n: \"/pieces/bN.png\",\n  B: \"/pieces/wB.png\", b: \"/pieces/bB.png\",\n  Q: \"/pieces/wQ.png\", q: \"/pieces/bQ.png\",\n  K: \"/pieces/wK.png\", k: \"/pieces/bK.png\",\n};\n\nconst initialBoard: string[] = [\n  \"rnbqkbnr\",\n  \"pppppppp\",\n  \"........\",\n  \"........\",\n  \"........\",\n  \"........\",\n  \"PPPPPPPP\",\n  \"RNBQKBNR\",\n];\n\n// ✅ Parse FEN (hàng 1 ở dưới cùng)\nconst parseFEN = (fen: string): string[][] => {\n  return fen\n    .split(\" \")[0]\n    .split(\"/\")\n    .map(row => {\n      const cells: string[] = [];\n      for (const c of row) {\n        if (isNaN(+c)) cells.push(c);\n        else cells.push(...Array(+c).fill(\".\"));\n      }\n      return cells;\n    })\n    .reverse();\n};\n\nconst Board: React.FC<{ roomId: string }> = ({ roomId }) => {\n  const [board, setBoard] = useState<string[][]>(initialBoard.map(r => r.split(\"\")));\n  const [selected, setSelected] = useState<[number, number] | null>(null);\n  const [validMoves, setValidMoves] = useState<[number, number][]>([]);\n  const [turn, setTurn] = useState<\"white\" | \"black\">(\"white\");\n  const [gameOver, setGameOver] = useState<null | \"white\" | \"black\">(null);\n\n  const { sendMove, playerColor } = useChessSocket(roomId, (fen, newTurn, newGameOver, event) => {\n    setBoard(parseFEN(fen));\n    setTurn(newTurn);\n    setGameOver(newGameOver);\n    if (event) playSound(event);\n  });\n\n  const handleClick = (r: number, c: number) => {\n    if (gameOver || !playerColor) return;\n    if (turn !== playerColor) return;\n\n    const piece = board[r][c];\n    const pieceColor = piece === piece.toUpperCase() ? \"white\" : \"black\";\n\n    // Chọn quân\n    if (!selected) {\n      if (piece !== \".\" && pieceColor === playerColor) {\n        setSelected([r, c]);\n        const moves: [number, number][] = [];\n        for (let i = 0; i < 8; i++)\n          for (let j = 0; j < 8; j++)\n            if (isValidMove(piece, r, c, i, j, board)) moves.push([i, j]);\n        setValidMoves(moves);\n      }\n      return;\n    }\n\n    const [r1, c1] = selected;\n    const selectedPiece = board[r1][c1];\n    if (!selectedPiece || selectedPiece === \".\") {\n      setSelected(null);\n      setValidMoves([]);\n      return;\n    }\n\n    // Nếu nước đi hợp lệ\n    if (validMoves.some(([x, y]) => x === r && y === c)) {\n      let moveUCI = `${String.fromCharCode(97 + c1)}${8 - r1}${String.fromCharCode(97 + c)}${8 - r}`;\n\n      // ✅ phong hậu mặc định\n      const isWhitePawn = selectedPiece === \"P\";\n      const isBlackPawn = selectedPiece === \"p\";\n      if ((isWhitePawn && r === 7) || (isBlackPawn && r === 0)) {\n        moveUCI += \"q\";\n      }\n\n      sendMove(moveUCI);\n    }\n\n    setSelected(null);\n    setValidMoves([]);\n  };\n\n  // ✅ Giữ bàn cố định, chỉ xoay khi hiển thị nếu là người đen\n  const displayBoard =\n    playerColor === \"black\" ? [...board].map(r => [...r]).reverse() : board;\n\n  return (\n    <div style={{ display: \"flex\", justifyContent: \"center\", alignItems: \"flex-start\", gap: \"40px\", marginTop: \"20px\" }}>\n      <div>\n        {gameOver && (\n          <div style={{ color: \"red\", textAlign: \"center\", fontSize: \"20px\", marginBottom: \"10px\" }}>\n            {gameOver === \"white\" ? \"Trắng thắng!\" : gameOver === \"black\" ? \"Đen thắng!\" : \"Hòa!\"}\n          </div>\n        )}\n        <div\n          style={{\n            display: \"grid\",\n            gridTemplateColumns: \"repeat(8, 60px)\",\n            gridTemplateRows: \"repeat(8, 60px)\",\n            border: \"2px solid black\",\n          }}\n        >\n          {displayBoard.map((row, i) =>\n            row.map((piece, j) => {\n              const color = (i + j) % 2 === 0 ? \"#f0d9b5\" : \"#b58863\";\n              const piecePath = pieceImages[piece] || \"\";\n              const isSelected = selected?.[0] === i && selected?.[1] === j;\n              const isValid = validMoves.some(([x, y]) => x === i && y === j);\n              const bgColor = isSelected ? \"yellow\" : isValid ? \"#a0d8ff\" : color;\n              return (\n                <Square\n                  key={`${i}-${j}`}\n                  value={piecePath}\n                  isSelected={isSelected}\n                  onClick={() => handleClick(i, j)}\n                  color={bgColor}\n                />\n              );\n            })\n          )}\n        </div>\n      </div>\n\n      <div style={{ width: \"300px\", padding: \"20px\", border: \"2px solid #333\", borderRadius: \"10px\", backgroundColor: \"#fafafa\" }}>\n        <h3 style={{ textAlign: \"center\" }}>Thông tin phòng</h3>\n        <p><strong>Mã phòng:</strong> {roomId}</p>\n        <p><strong>Lượt hiện tại:</strong> {turn === \"white\" ? \"Trắng\" : \"Đen\"}</p>\n\n        <div style={{ marginTop: \"20px\" }}>\n          <h4>Người chơi</h4>\n          <p>♔ <strong>Trắng:</strong> {playerColor === \"white\" ? \"Bạn\" : \"Đối thủ\"}</p>\n          <p>♚ <strong>Đen:</strong> {playerColor === \"black\" ? \"Bạn\" : \"Đối thủ\"}</p>\n        </div>\n\n        {gameOver && (\n          <div style={{ marginTop: \"30px\", color: \"red\", textAlign: \"center\", fontWeight: \"bold\" }}>\n            {gameOver === \"white\" ? \"Trắng thắng!\" : gameOver === \"black\" ? \"Đen thắng!\" : \"Hòa!\"}\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default Board;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}